@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using sag.Models
@model GastosBrutos
@{
    ViewBag.Title = "Novo gasto";
    Layout = "/Views/Shared/_Layout.cshtml";

    DateTime hoje = DateTime.Now;
    ViewBag.Atual = hoje;
    ViewBag.Hoje = "";
}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js"></script>
<script>
    var data = moment("@ViewBag.Atual", 'DD/MM/YYYY HH:mm:ss', true).format('YYYY-MM-DD');
    @ViewBag.Hoje = data;
    console.log("@ViewBag.Hoje");
</script>

<h1>Create</h1>

<div>
    <form asp-controller="GastosBrutos" asp-action="Create" method="POST">
        <div class="form-group">
            <label for="valor">Nome do gasto*</label>
            <input type="text" name="nomegasto" class="form-control" asp-for="NomeGasto"/>
            <span asp-validation-for="NomeGasto"></span>
        </div>
        <div class="form-group">
            <label for="valor">Valor gasto*</label>
            <input type="text" name="valor" class="form-control" asp-for="Valor"/>
            <span asp-validation-for="Valor"></span>
        </div>

        <div class="form-group">
            <label for="DataVencimento">Data de Vencimento*</label>
            <input type="date" name="DataVencimento" id="DataVencimento" class="form-control" asp-for="DataVencimento" value="@ViewBag.Hoje" />
            <span asp-validation-for="DataVencimento"></span>
        </div>

        <div class="form-group">
            <label for="DataPagamento">Data de Pagamento</label>
            <input type="date" name="DataPagamento" id="DataPagamento" class="form-control" asp-for="DataPagamento" value="@ViewBag.Hoje" />
            <span asp-validation-for="DataPagamento"></span>
        </div>

        <button class="btn btn-primary">Salvar</button>
        <a href="/GastosBrutos/Index" class="btn btn-primary">Voltar</a>
    </form>
</div>