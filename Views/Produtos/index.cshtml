@model List<Produtos>
@{
    ViewBag.Title = "Lista de produtos";
    ViewBag.NomePagina = "Lista de produtos";

    var sucesso = "Produto desabilitado com sucesso!";
    var erro = "Não foi possível desabilitar o produto!";
    var sucessocreate = "Produto criado com sucesso!";
    var errocreate = "Não foi possível concluir o cadastro do produto!";
    var sucessoupdate = "Produto atualizado com sucesso!";
    var erroupdate = "Não foi possivel atualizar o Produto!";
}

<head>   
    <link rel="stylesheet" href="~/css/produtos/index.css" />
</head>

<body class="produtos">
    <div class="msg1">
        <h1 id="msg1">Lista de Produtos &#127843</h1>
    </div>
    @if (TempData.ContainsKey("Desabilitou"))
        {
            var desabilitou = (bool)TempData["Desabilitou"];
            if (desabilitou)
            {
                <partial name="_MensagemInfo" model="@(sucesso)"></partial>
            }
            else
            {
                <partial name="_MensagemErro" model="@(erro)"></partial>
            }
        }
        @if (TempData.ContainsKey("Criou"))
        {
            var criou = (bool)TempData["Criou"];
            if (criou)
            {
                <partial name="_MensagemInfo" model="@(sucessocreate)"></partial>
            }
            else
            {
                <partial name="_MensagemErro" model="@(errocreate)"></partial>
            }
        }
        @if (TempData.ContainsKey("Atualizou"))
        {
            var atualizou = (bool)TempData["Atualizou"];
            if (atualizou)
            {
                <partial name="_MensagemInfo" model="@(sucessoupdate)"></partial>
            }
            else
            {
                <partial name="_MensagemErro" model="@(erroupdate)"></partial>
            }
        }

    <table class="tabela">
            <tr>
                <th>Id</th>
                <th >Nome</th>
                <th >Categoria</th>
                <th >Descrição</th>
                <th >Valor</th>
                <th >Estado</th>       
            </tr>          
        <div class="msg2">
            <h6 id="msg2">Você possui @Model.Count produtos</h6>
        </div>
        
        
        @if (ViewBag.Message != null)
        {
            <p class="alert alert-danger alert-message">@ViewBag.Message</p>
        }
        @foreach (var produtos in Model)
        {
            <tr>
                <td class="tabela-info-td">@produtos.Id_produto</td>
                <td class="tabela-info-td">@produtos.Nome</td>
                <td class="tabela-info-td">@produtos.Categoria</td>
                <td class="tabela-info-td">@produtos.Descricao</td>
                <td class="tabela-info-td">@produtos.Valor.ToString("C")</td>
                <td class="tabela-info-td">@produtos.TextoEstado</td> 
                <td class="botoes-cad">
                <a href="/Produtos/Update/@produtos.Id_produto" class="btn btn-sm btn-primary" id="editar">Editar</a>
                <a href="/Produtos/Disable/@produtos.Id_produto" class="btn btn-sm btn-danger" id="desabilitar" data-toggle="modal"
                data-target="#exampleModal">Desabilitar</a>   
                </td>   
            </tr>
        }
    </table>
    <div class="adicionar">
        <a href="/Produtos/Create" class="btn btn-primary" id="adicionarC">Adicionar</a>
    </div>
    

</body>

